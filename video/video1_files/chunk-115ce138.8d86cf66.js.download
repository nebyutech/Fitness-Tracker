(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-115ce138"],{"74f8":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"div-preview-video"},[i("div",{staticClass:"w-100 h-100"},[i("BaseImg",{staticClass:"product-thumbnail-img img-fluid",attrs:{"lazy-src":e.posterImageUrl,alt:e.element.name,loading:"lazy"}}),e.videoUrl||e.showStaticPreview?i("div",{staticClass:"fp-full no-volume no-controls fp-me fp-me-thumb is-splash",attrs:{id:"player-"+e.element.id}}):e._e()],1)])},s=[],a=i("7201"),n={name:"product-card-preview-default",components:{BaseImg:function(){return i.e("chunk-08d03c44").then(i.bind(null,"b68f"))}},data:function(){return{flowplayer:null,isFirstPlay:!0,isPlaying:!1}},props:{element:Object,isHovering:{type:Boolean,default:!1}},computed:{posterImageUrl:function(){return _.get(this.element,"thumbnails.jpg.url")||"https://static.moele.me/img/placeholders/placeholder-640x360-light.jpg?w=480"},videoUrl:function(){var e=_.get(this.element,"thumbnails.mp4.url")||_.get(this.element,"previews.mp4.url");return e&&-1!==e.lastIndexOf(".mp4")?e:null},showStaticPreview:function(){return!(Object(a["e"])("image",this.mediaType)||Object(a["e"])("3d_model",this.mediaType))},isSearchResultPage:function(){var e=!0;return e&&this.$route.name.indexOf("view-search")>-1},muteSetting:function(){if(!this.isSearchResultPage)return!0;var e=this.$store.getters["search/videoPlayerMuted"];return e}},watch:{isHovering:function(e){var t=this;e?setTimeout((function(){t.doPlay()}),150):this.doPause()}},beforeDestroy:function(){null!==this.flowplayer&&(this.flowplayer.mute(!1),this.flowplayer.shutdown(),this.flowplayer=null)},methods:{doPlay:function(){var e=this;return!!this.isHovering&&(!(!this.flowplayer&&(this.initVideoPlayer(this.element),!this.isHovering))&&(this.flowplayer.load(),this.flowplayer.play(),this.flowplayer.mute(this.muteSetting),this.isPlaying=!0,this.$bus.$emit("product-video-player-load-play",this.element),this.isFirstPlay&&setTimeout((function(){e.isPlaying&&(e.$emit("previewed",!0),e.isFirstPlay=!1)}),1e3),!0))},doPause:function(){return!this.flowplayer||(this.flowplayer.pause(),this.flowplayer.unload(),this.isPlaying=!1,this.$bus.$emit("product-video-player-pause-unload",this.element),!0)},previewImgError:function(e){e.target.src="https://static.moele.me/img/me-thumb-placeholder.180718.png"},initVideoPlayer:function(e){var t=this.videoUrl;if(t){var i=document.getElementById("player-".concat(e.id));this.flowplayer=flowplayer(i,{engine:"html5",key:"$997983260150586",debug:!1,aspectRatio:"16:9",preload:"auto",autoplay:!0,splash:!0,loop:!0,muted:this.muteSetting,clip:{sources:[{type:"video/mp4",src:t}]}})}}}},r=n,o=(i("a335"),i("2877")),u=Object(o["a"])(r,l,s,!1,null,"1b2b307a",null);t["default"]=u.exports},a335:function(e,t,i){"use strict";i("c038")},c038:function(e,t,i){}}]);
//# sourceMappingURL=chunk-115ce138.8d86cf66.js.map